{% assign bgLabel = page.slug | append: '-full-width-photo-fixed-' | append: component.number %}
{% assign bgImages = site.files | filter_files: tags: bgLabel, tags_match: 'any', types: 'image', limit: 1, order: component.galleryLoopBy, sort: component.loopOrder, random: true %}
{% for image in bgImages %}
  {%- capture bgImage -%}
    {{ image | image_url: size: '1920x1280', format: 'webp' }}
  {%- endcapture -%}
{% endfor %}
<div class="ratio ratio-16x9 wvu-bg-fixed text-center text-white bg-dark wvu-bg-size-cover" style="background-image: url('{{ bgImage }}')">
  <div class="w-100 h-100 d-flex justify-content-center align-items-center">
    <div class="container py-5">
      <div class="row">
        <div class="col col-mb-8">
          {% if edit_mode or page.content[component.region_names.header] != blank or page.content[component.region_names.header] != blank %}            
            <div class="row mb-4">
              <div class="col-lg-7 col-xl-6 mx-lg-auto">
                {% comment %}<!-- This is just a label for the editable region that follows in order to make it clear to content editors what the region is for (in case they delete content and forget). -->{% endcomment %}
                {% if edit_mode %}<span class="d-inline-block badge bg-primary mb-1">{{ bgLabel }}</span>{% endif %}
                <h2 id="{{ component.name }}-label" class="h1 helvetica-neue-bold">{% editable_region name: component.region_names.header, type: "simple", scope: component.scope, placeholder="Photo Set Headline" %}</h2>
                <p>
                  {% editable_region name: component.region_names.main, type="simple", scope: component.scope, placeholder="Type your subhead here." %}
                </p>
              </div>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>